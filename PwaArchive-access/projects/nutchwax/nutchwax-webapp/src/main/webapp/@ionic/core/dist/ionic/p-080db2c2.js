const e=500,o="cubic-bezier(0.36,0.66,0.04,1)",t="opacity",n="transform",r="translateX",l="0%",d=.8;function a(e){return e.shadowRoot||e}function c(c,s,m){const i="rtl"===s.ownerDocument.dir,f=i?"-99.5%":"99.5%",u=i?"33%":"-33%",T=m.enteringEl,y=m.leavingEl,b=new c;if(b.addElement(T).duration(m.duration||e).easing(m.easing||o).beforeRemoveClass("ion-page-invisible"),y&&s){const e=new c;e.addElement(s),b.add(e)}const S="back"===m.direction,E=T.querySelector(":scope > ion-content"),p=T.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),w=T.querySelectorAll(":scope > ion-header > ion-toolbar"),g=new c;if(E||0!==w.length||0!==p.length?(g.addElement(E),g.addElement(p)):g.addElement(T.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),b.add(g),S?g.beforeClearStyles([t]).fromTo(r,u,l,!0).fromTo(t,d,1,!0):g.beforeClearStyles([t]).fromTo(r,f,l,!0),w.forEach(e=>{const o=new c;o.addElement(e),b.add(o);const n=new c;n.addElement(e.querySelector("ion-title"));const d=new c;d.addElement(e.querySelectorAll("ion-buttons,[menuToggle]"));const s=new c;s.addElement(e.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const m=new c;m.addElement(a(e).querySelector(".toolbar-background"));const T=new c,y=e.querySelector("ion-back-button");if(y&&T.addElement(y),o.add(n).add(d).add(s).add(m).add(T),n.fromTo(t,.01,1,!0),d.fromTo(t,.01,1,!0),s.fromTo(t,.01,1,!0),S)n.fromTo(r,u,l,!0),s.fromTo(r,u,l,!0),T.fromTo(t,.01,1,!0);else if(n.fromTo(r,f,l,!0),s.fromTo(r,f,l,!0),m.beforeClearStyles([t]).fromTo(t,.01,1,!0),T.fromTo(t,.01,1,!0),y){const e=new c;e.addElement(a(y).querySelector(".button-text")).fromTo(r,i?"-100px":"100px","0px"),o.add(e)}}),y){const e=new c;e.addElement(y.querySelector(":scope > ion-content")),e.addElement(y.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *")),b.add(e),S?e.beforeClearStyles([t]).fromTo(r,l,i?"-100%":"100%"):e.fromTo(r,l,u,!0).fromTo(t,1,d,!0),y.querySelectorAll(":scope > ion-header > ion-toolbar").forEach(e=>{const o=new c;o.addElement(e);const d=new c;d.addElement(e.querySelector("ion-title"));const s=new c;s.addElement(e.querySelectorAll("ion-buttons,[menuToggle]"));const m=new c,f=e.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");f.length>0&&m.addElement(f);const T=new c;T.addElement(a(e).querySelector(".toolbar-background"));const y=new c,E=e.querySelector("ion-back-button");if(E&&y.addElement(E),o.add(d).add(s).add(m).add(y).add(T),b.add(o),y.fromTo(t,.99,0),d.fromTo(t,.99,0),s.fromTo(t,.99,0,0),m.fromTo(t,.99,0),S){if(d.fromTo(r,l,i?"-100%":"100%"),m.fromTo(r,l,i?"-100%":"100%"),T.beforeClearStyles([t]).fromTo(t,1,.01),E){const e=new c;e.addElement(a(E).querySelector(".button-text")),e.fromTo(r,l,(i?-124:124)+"px"),o.add(e)}}else d.fromTo(r,l,u).afterClearStyles([n]),m.fromTo(r,l,u).afterClearStyles([n,t]),y.afterClearStyles([t]),d.afterClearStyles([t]),s.afterClearStyles([t])})}return Promise.resolve(b)}export{c as iosTransitionAnimation,a as shadow};